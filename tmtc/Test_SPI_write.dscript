/*

This test allows testing the DEMUX spi writting.

 It has 3 sub-tests:

    1. read registers

    2. write in the same registers with a user-defined value table

    3. read and check the written register values.

  Expected Result: 

    . check the written values in 2. are equal to the read values in 3.
*/

/*
  select the DEMUX SPI Link
     .cs_select: 0: DEMUX, 1: RAS
*/
cs_select = 0;
sendToDRELinkBoard_ConfigureSPI_CS(cs_select);


/*
  sub-test1 : read the registers
*/
sendToDREReadRegisters(0x0400, 16)

/*
  sub-test2 : write in the same registers with a user-defined value table
*/
value_test = [0x0001, 0x0002, 0x0003, 0x0004, 0x0005, 0x0006, 0x0007, 0x0001, 
					 0x0001, 0x0002, 0x0003, 0x0004, 0x0005, 0x0006, 0x0007, 0x0001,
					 0x0001, 0x0002, 0x0003, 0x0004, 0x0005, 0x0006, 0x0007, 0x0001,
					 0x0001, 0x0002, 0x0003, 0x0004, 0x0005, 0x0006, 0x0007, 0x0001,
					 0x0001, 0x0002]
sendToDREWritePixelsRegisters(0x0400,value_test)

/*
  sub-test3 : read and check the written register values.
  Expected values: the reading should be identical to the written values (previously)
*/
sendToDREReadRegisters(0x0400, 16)

